/*! TimeCraftJs v1.0.0 | (c) Daniel Nunes | Released under the MIT license | Date: 2025 */
!function(e){let t=null;const i=new class{constructor(){this.windowClick=this.click,this.windowScroll=this.scroll,this.windowResize=this.resize,this.events=!1}addEvents(){e.document.addEventListener("click",this.windowClick),e.addEventListener("scroll",this.windowScroll),e.document.addEventListener("scroll",this.windowScroll),e.document.body.addEventListener("scroll",this.windowScroll),e.document.documentElement.addEventListener("scroll",this.windowScroll),e.addEventListener("resize",this.windowResize)}removeEvents(){e.document.removeEventListener("click",this.windowClick),e.removeEventListener("scroll",this.windowScroll),e.document.removeEventListener("scroll",this.windowScroll),e.document.body.removeEventListener("scroll",this.windowScroll),e.document.documentElement.removeEventListener("scroll",this.windowScroll),e.removeEventListener("resize",this.windowResize)}click(e){null!=t&&(t.contains(e.target)||(t.destroy(),t=null))}scroll(){null!=t&&t.setPosition()}resize(){null!=t&&t.setPosition()}dataChanged(e){0!==e.length?this.events||(this.addEvents(),this.events=!0):this.events&&(this.removeEvents(),this.events=!1)}};class n{constructor(e,t){this.type=t,this.topOffset=0,this.leftOffset=0,this.language="en-GB",this.zIndex=null,this.scale=1,this.theme=1,this.startMonday=!1,this.showOtherDays=!1,this.enableWeekend=!0,this.shortMonths=!1,this.showHours=!0,this.showMinutes=!0,this.showSeconds=!0,this.hour24=!0,this.hour12Initial="AM",this.format="dd/MM/yyyy HH:mm:ss",this.supportedFormats,this.startDate=new Date,this.startDate=new Date(this.startDate.setFullYear(this.startDate.getFullYear()-2)),this.endDate=new Date,this.endDate=new Date(this.endDate.setFullYear(this.endDate.getFullYear()+2)),this.enableWeekend=!0,this.onSelected=null,this.onClosed=null,this.selectedDate=new Date,this.runningDate=new Date,this.events=[],this.menu={show:!1,now:"",done:""},this.implement(e)}isNull(e){return null==e}isString(e){return!this.isNull(e)&&"string"==typeof e}isEmpty(e){return this.isNull(e)||this.isString(e)&&""===e.replace(/\s/g,"")}isValidNumber(e){return!this.isNull(e)&&"number"==typeof e&&!isNaN(e)&&isFinite(e)}isBoolean(e){return!this.isNull(e)&&"boolean"==typeof e}isDate(e){return!this.isNull(e)&&"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())}isFunction(e){return!this.isNull(e)&&"function"==typeof e}isFormat(e){if(!this.isString(e.format))return void(this.format="datepicker"===this.type?"dd/MM/yyyy":"timepicker"===this.type?"HH:mm:ss":"dd/MM/yyyy HH:mm:ss");if("datepicker"===this.type){const t=this.formatContains([...this.supportedFormats.day],e.format),i=this.formatContains([...this.supportedFormats.month],e.format),n=this.formatContains([...this.supportedFormats.year],e.format);return t||i||n?void(this.format=e.format):void(this.format="dd/MM/yyyy")}if("datetimepicker"===this.type){const t=this.formatContains([...this.supportedFormats.day],e.format),i=this.formatContains([...this.supportedFormats.month],e.format),n=this.formatContains([...this.supportedFormats.year],e.format),o=this.formatContains([...this.supportedFormats.hour],e.format),s=this.formatContains([...this.supportedFormats.minute],e.format),r=this.formatContains([...this.supportedFormats.second],e.format);return(t||i||n)&&(o||s||r)?void(this.format=e.format):void(this.format="dd/MM/yyyy HH:mm:ss")}const t=this.formatContains([...this.supportedFormats.hour],e.format),i=this.formatContains([...this.supportedFormats.minute],e.format),n=this.formatContains([...this.supportedFormats.second],e.format);this.format=t||i||n?e.format:"HH:mm:ss"}isArray(e){return!this.isNull(e)&&Array.isArray(e)}formatContains(e,t){let i=!1;for(let n=0;n<e.length;n++){const o=t.match(new RegExp(e[n],"g"));if(o&&o.length>0){i=!0;break}}return i}isObject(e){return!this.isNull(e)&&"object"==typeof e&&Object.keys(e).length>0}cloneDate(e,t=""){if("NO-TIME"===t){const t=new Date(e.getTime());return t.setHours(0,0,0,0),t}if("NO-DATE"===t){let t=new Date(e.getTime());const i=t.getTime()%864e5;return t=new Date(0),t.setTime(i),t}return new Date(e.getTime())}getDaysInMonth(e){const t=this.cloneDate(e),i=t.getMonth(),n=t.getFullYear();return new Date(n,i+1,0).getDate()}implement(e){this.isObject(e)||(e={}),this.isValidNumber(e.topOffset)&&(this.topOffset=e.topOffset),this.isValidNumber(e.leftOffset)&&(this.leftOffset=e.leftOffset),this.isValidNumber(e.zIndex)&&(this.zIndex=e.zIndex),this.isValidNumber(e.scale)&&e.scale>0&&(this.scale=e.scale),this.isValidNumber(e.theme)&&e.theme>0&&e.theme<6&&(this.theme=e.theme),this.isBoolean(e.startMonday)&&(this.startMonday=e.startMonday),this.isBoolean(e.showOtherDays)&&(this.showOtherDays=e.showOtherDays),this.isBoolean(e.enableWeekend)&&(this.enableWeekend=e.enableWeekend),this.isBoolean(e.hour24)&&(this.hour24=e.hour24),this.isDate(e.startDate)?this.startDate=e.startDate:(this.startDate.setMonth(0),this.startDate.setDate(1)),this.isDate(e.endDate)?this.endDate=e.endDate:(this.endDate.setMonth(11),this.endDate.setDate(this.getDaysInMonth(this.endDate))),this.startDate.getTime()>this.endDate.getTime()&&(this.startDate=new Date,this.startDate=new Date(this.startDate.setFullYear(this.startDate.getFullYear()-2)),this.endDate=new Date,this.endDate=new Date(this.endDate.setFullYear(this.endDate.getFullYear()+2))),this.isFunction(e.onSelected)&&(this.onSelected=e.onSelected),this.isFunction(e.onClosed)&&(this.onClosed=e.onClosed),this.isBoolean(e.showHours)&&(this.showHours=e.showHours),this.isBoolean(e.showMinutes)&&(this.showMinutes=e.showMinutes),this.isBoolean(e.showSeconds)&&(this.showSeconds=e.showSeconds),this.showHours||this.showMinutes||this.showSeconds?this.showHours&&!this.showMinutes&&this.showSeconds&&(this.showHours=!0,this.showMinutes=!0,this.showSeconds=!0):(this.showHours=!0,this.showMinutes=!0,this.showSeconds=!0),this.isBoolean(e.shortMonths)&&(this.shortMonths=e.shortMonths),this.isString(e.language)&&1===["en-GB","en-US","pt-PT","es-ES","fr-FR"].filter((t=>t===e.language)).length&&(this.language=e.language);const t=this.language;if(this.language="pt-PT"==t?{longMonths:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],shortMonths:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],longWeeks:["Domingo","Segunda-feira","Terça-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sábado"],shortWeeks:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],menu:["Hoje","Agora","Feito"]}:"es-ES"==t?{longMonths:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],shortMonths:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],longWeeks:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],shortWeeks:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],menu:["Hoy","ahora","Hecho"]}:"fr-FR"==t?{longMonths:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],shortMonths:["Jan","Fév","Mar","Avr","Mai","Jun","Jul","Aoû","Sep","Oct","Nov","Déc"],longWeeks:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],shortWeeks:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],menu:["Aujourd'hui","Maintenant","Fini"]}:{longMonths:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longWeeks:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortWeeks:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],menu:["Today","Now","Done"]},this.supportedFormats={day:["dd","d"],month:["MMMM","MMM","MM","M"],year:["yyyy","yyy","yy","y"],hour:["HH","H"],minute:["mm","m"],second:["ss","s"]},this.isFormat(e),this.isObject(e.menu)?(this.isString(e.menu.now)&&!this.isEmpty(e.menu.now)?this.menu.now=e.menu.now:"timepicker"==this.type?this.menu.now=this.language.menu[1]:this.menu.now=this.language.menu[0],this.isString(e.menu.done)&&!this.isEmpty(e.menu.done)?this.menu.done=e.menu.done:this.menu.now=this.language.menu[2],this.isBoolean(e.menu.show)?this.menu.show=e.menu.show:"timepicker"==this.type&&(this.menu.show=!0)):"timepicker"==this.type?this.menu={show:!0,now:this.language.menu[1],done:this.language.menu[2]}:"datetimepicker"==this.type&&(this.menu={show:!0,now:this.language.menu[0],done:this.language.menu[2]}),this.isArray(e.events))for(let t=0;t<e.events.length;t++){const i=e.events[t];if(!this.isObject(i))continue;if(!this.isString(i.message)||this.isEmpty(i.message))continue;if(this.isDate(i.date)){this.events.push({date:this.cloneDate(i.date,"NO_TIME"),message:i.message});continue}if(!this.isString(i.date)||this.isEmpty(i.date))continue;const n=i.date.match(/^(\d{1,2})\s+(\d{1,2})\s+(\d{4})$/);n&&4===n.length&&this.events.push({date:new Date(parseInt(n[3]),parseInt(n[2])-1,parseInt(n[1])),message:i.message})}}}class o extends HTMLElement{constructor(e){super(),this.observer=null,this.elementPickerModel=e,this.listEventListener=[],this.builEvents(),this.system=!1,this.selector=e.element,this.options=e.options,this.shadow=this.attachShadow({mode:"closed"}),this.open()}builEvents(){this.listEventListener.push({key:"eventDayClick",func:this.eventDayClick.bind(this),elements:[]}),this.listEventListener.push({key:"eventContextMenu",func:this.eventContextMenu.bind(this),elements:[]}),this.listEventListener.push({key:"eventMonthSelected",func:this.eventMonthSelected.bind(this),elements:[]}),this.listEventListener.push({key:"eventYearSelected",func:this.eventYearSelected.bind(this),elements:[]}),this.listEventListener.push({key:"eventLeftButtonClick",func:this.eventLeftButtonClick.bind(this),elements:[]}),this.listEventListener.push({key:"eventRightButtonClick",func:this.eventRightButtonClick.bind(this),elements:[]}),this.listEventListener.push({key:"eventMenuNowClick",func:this.eventMenuNowClick.bind(this),elements:[]}),this.listEventListener.push({key:"eventMenuDoneClick",func:this.eventMenuDoneClick.bind(this),elements:[]}),this.listEventListener.push({key:"eventTimeHourButton",func:this.eventTimeHourButton.bind(this),elements:[]}),this.listEventListener.push({key:"eventTimeMinuteButton",func:this.eventTimeMinuteButton.bind(this),elements:[]}),this.listEventListener.push({key:"eventTimeSecondButton",func:this.eventTimeSecondButton.bind(this),elements:[]}),this.listEventListener.push({key:"eventTimeHourCenterClick",func:this.eventTimeHourCenterClick.bind(this),elements:[]}),this.listEventListener.push({key:"eventTimeMinuteCenterClick",func:this.eventTimeMinuteCenterClick.bind(this),elements:[]}),this.listEventListener.push({key:"eventTimeSecondCenterClick",func:this.eventTimeSecondCenterClick.bind(this),elements:[]}),this.listEventListener.push({key:"eventTimeCenterOptionClick",func:this.eventTimeCenterOptionClick.bind(this),elements:[]}),this.listEventListener.push({key:"eventDatePickerMouseEnter",func:this.eventDatePickerMouseEnter.bind(this),elements:[]}),this.listEventListener.push({key:"eventDatePickerMouseLeave",func:this.eventDatePickerMouseLeave.bind(this),elements:[]})}addEvent(e,t,i){const n=this.listEventListener.findIndex((t=>t.key===e));-1!==n&&(t.addEventListener(i,this.listEventListener[n].func),this.listEventListener[n].elements.push({element:t,type:i}))}removeEvents(e){if(void 0===e){for(let e=0;e<this.listEventListener.length;e++){const t=this.listEventListener[e];for(let e=0;e<t.elements.length;e++){const i=t.elements[e].element,n=t.elements[e].type;null!=i&&i.removeEventListener(n,t.func)}this.listEventListener[e].elements=[]}this.listEventListener=[]}else{const t=this.listEventListener.findIndex((t=>t.key===e));if(-1===t)return;for(let e=0;e<this.listEventListener[t].elements.length;e++){const i=this.listEventListener[t].func,n=this.listEventListener[t].elements[e];null!==n.element&&void 0!==n.element&&n.element.removeEventListener(n.type,i)}this.listEventListener[t].elements=[]}}eventContextMenu(e){e.preventDefault()}eventMonthSelected(e){const t=e.target.value;this.options.runningDate.setDate(1),this.options.runningDate.setMonth(t),this.updateDatePicker(),this.updateTimePicker()}eventYearSelected(e){const t=e.target.value;this.options.runningDate.setDate(1),this.options.runningDate.setFullYear(t),this.updateDatePicker(),this.updateTimePicker()}eventLeftButtonClick(e){const t=this.cloneDate(this.options.runningDate,"NO-TIME");t.setDate(1),t.setMonth(t.getMonth()-1);const i=this.cloneDate(this.options.startDate,"NO-TIME");i.setDate(1),t.getTime()<i.getTime()||(this.options.runningDate.setDate(1),this.options.runningDate.setMonth(this.options.runningDate.getMonth()-1),this.updateDatePicker())}eventRightButtonClick(e){const t=this.cloneDate(this.options.runningDate,"NO-TIME");t.setDate(1),t.setMonth(t.getMonth()+1);const i=this.cloneDate(this.options.endDate,"NO-TIME");i.setDate(1),t.getTime()>i.getTime()||(this.options.runningDate.setDate(1),this.options.runningDate.setMonth(this.options.runningDate.getMonth()+1),this.updateDatePicker())}eventDayClick(e){const t=parseInt(e.target.textContent);if(this.options.selectedDate=this.cloneDate(this.options.runningDate),this.options.selectedDate.setDate(t),this.options.menu.show)return this.updateDatePicker(),void this.updateTimePicker();let i=this.findChild("container","time","header","ampm");this.options.hour12Initial=void 0!==i?i.value:"",this.elementPickerModel.setDate(this.options)}eventMenuNowClick(){this.options.selectedDate=new Date,this.options.runningDate=new Date,this.updateDatePicker(),this.updateTimePicker()}eventMenuDoneClick(){this.options.selectedDate.setHours(this.options.runningDate.getHours()),this.options.selectedDate.setMinutes(this.options.runningDate.getMinutes()),this.options.selectedDate.setSeconds(this.options.runningDate.getSeconds());let e=this.findChild("container","time","header","ampm");this.options.hour12Initial=void 0!==e?e.value:"",this.elementPickerModel.setDate(this.options)}eventTimeHourButton(e){const t=e.target.textContent,i=this.cloneDate(this.options.runningDate);"‹"===t?i.setHours(i.getHours()+1):i.setHours(i.getHours()-1),this.options.runningDate=this.cloneDate(this.options.runningDate,"NO_TIME"),this.options.runningDate.setHours(i.getHours()),this.options.runningDate.setMinutes(i.getMinutes()),this.options.runningDate.setSeconds(i.getSeconds()),this.updateTimePicker()}eventTimeMinuteButton(e){const t=e.target.textContent,i=this.cloneDate(this.options.runningDate);"‹"===t?i.setMinutes(i.getMinutes()+1):i.setMinutes(i.getMinutes()-1),this.options.runningDate=this.cloneDate(this.options.runningDate,"NO_TIME"),this.options.runningDate.setHours(i.getHours()),this.options.runningDate.setMinutes(i.getMinutes()),this.options.runningDate.setSeconds(i.getSeconds()),this.updateTimePicker()}eventTimeSecondButton(e){const t=e.target.textContent,i=this.cloneDate(this.options.runningDate);"‹"===t?i.setSeconds(i.getSeconds()+1):i.setSeconds(i.getSeconds()-1),this.options.runningDate=this.cloneDate(this.options.runningDate,"NO_TIME"),this.options.runningDate.setHours(i.getHours()),this.options.runningDate.setMinutes(i.getMinutes()),this.options.runningDate.setSeconds(i.getSeconds()),this.updateTimePicker()}eventTimeHourCenterClick(){this.openTimeMenuPicker("H")}eventTimeMinuteCenterClick(){this.openTimeMenuPicker("M")}eventTimeSecondCenterClick(){this.openTimeMenuPicker("S")}eventTimeCenterOptionClick(e){const t=parseInt(e.target.textContent),i=e.target.getAttribute("data-type");"H"===i?this.options.hour24?this.options.runningDate.setHours(t):this.options.runningDate.setHours(12===t?12:t+12):"M"===i?this.options.runningDate.setMinutes(t):this.options.runningDate.setSeconds(t);const n=this.findChild("container","time","body1"),o=this.findChild("container","time","body2");for(this.removeEvents("eventTimeCenterOptionClick");o.firstChild;)o.firstChild.remove();o.remove(),n.style.display="flex",this.updateTimePicker()}eventDatePickerMouseEnter(e){const t=parseInt(e.target.getAttribute("data-event")),i=this.options.events[t];let n=this.findChild("tooltip");null!=n&&n.remove(),n=this.elementFromHtml(`<div class="tooltip">${i.message}</div>`),this.shadow.append(n);const{x:o,y:s}=this.eventDatePickerMouseEnterGetDayPosition(e.target,n);n.style.top=s+"px",n.style.left=o+"px"}eventDatePickerMouseEnterGetDayPosition(t,i){const{scale:n}=this.options,o=t.getBoundingClientRect(),s=i.getBoundingClientRect(),r=this.shadow.host.getBoundingClientRect();let d=0,h=0,a=(e.innerWidth||e.document.documentElement.clientWidth||e.document.body.clientWidth)-10;return 1===n?(h=o.top-s.height-3,d=o.left+(o.right-o.left)/2,d-=s.width/2,d<0?d=o.left:d+s.width>a&&(d=a-s.width-10)):(a/=n,h=(o.top-r.top)/n-s.height/n-1,h-=3/n,d=o.left+(o.right-o.left)/2,d-=s.width/2,d=d/n-3,d<0?d=o.left/n:d+s.width/n>a&&(d=a-s.width/n-10)),{x:d,y:h}}eventDatePickerMouseLeave(){const e=this.findChild("tooltip");void 0!==e&&e.remove()}connectedCallback(){this.addEvent("eventContextMenu",this,"contextmenu"),1!==this.options.scale&&(this.shadow.host.style.transform="scale("+this.options.scale+", "+this.options.scale+")",this.shadow.host.style.transformOrigin="top left"),null!==this.options.zIndex&&(this.shadow.host.style.zIndex=this.options.zIndex.toString()),this.observer=new ResizeObserver((()=>{this.setPosition()})),this.observer.observe(this.shadow.host)}disconnectedCallback(){this.removeEvents(),null!==this.observer&&(this.observer.disconnect(),this.observer=null),this.system||null===this.options.onClosed||this.options.onClosed(this.selector);for(let e=0;e<this.shadow.children.length.length;e++)this.shadow.children[e].remove()}setPosition(){const{leftOffset:t,topOffset:i}=this.options,n=this.selector.getBoundingClientRect(),o=this.shadow.host.getBoundingClientRect();let s=n.left+t,r=n.bottom+1+i;const d=e.scrollY;r+=d;const h=(e.innerWidth||e.document.documentElement.clientWidth||e.document.body.clientWidth)-10,a=e.innerHeight||e.document.documentElement.clientHeight||e.document.body.clientHeight;s+o.width>h&&(s=h>o.width?h-o.width-10:0),s=Math.max(0,s),r+o.height>a+d&&n.top+d-o.height>0&&(r=n.top+d-o.height),this.shadow.host.style.left=s+"px",this.shadow.host.style.top=r+"px"}open(){this.shadow.append(this.styles());const t=this.elementFromHtml(`<div class="container theme${this.options.theme}"></div>`);this.shadow.append(t),this.openDatePicker(t),this.openTimePicker(t),this.openMenuPicker(t),e.document.body.appendChild(this)}openDatePicker(e){if("timepicker"===this.options.type)return;const t=this.elementFromHtml('\n        <div class="date">\n          <div class="header">\n            <select class="month"></select>\n            <select class="year"></select>\n            <div class="button-l">‹</div>\n            <div class="button-r">›</div>\n          </div>\n          <div class="sub-header"></div>\n          <div class="body"></div>\n        </div>\n      ');e.appendChild(t);const i=this.findChild("container","date","header","month");for(let e=0;e<this.options.language.longMonths.length;e++){const t=this.options.language.longMonths[e];i.appendChild(this.elementFromHtml(`<option value="${e}">${t}</option>`))}const n=this.findChild("container","date","header","year");for(let e=this.options.startDate.getFullYear();e<this.options.endDate.getFullYear()+1;e++)n.appendChild(this.elementFromHtml(`<option value="${e}">${e}</option>`));const o=this.findChild("container","date","sub-header");if(this.options.startMonday){for(let e=1;e<this.options.language.shortWeeks.length;e++)o.appendChild(this.elementFromHtml(`<div>${this.options.language.shortWeeks[e]}</div>`));o.appendChild(this.elementFromHtml(`<div>${this.options.language.shortWeeks[0]}</div>`))}else for(let e=0;e<this.options.language.shortWeeks.length;e++)o.appendChild(this.elementFromHtml(`<div>${this.options.language.shortWeeks[e]}</div>`));this.updateDatePicker(),this.addEvent("eventMonthSelected",i,"change"),this.addEvent("eventYearSelected",n,"change"),this.addEvent("eventLeftButtonClick",this.findChild("container","date","header","button-l"),"click"),this.addEvent("eventRightButtonClick",this.findChild("container","date","header","button-r"),"click")}openTimePicker(e){if("datepicker"===this.options.type)return;const t=this.elementFromHtml('\n        <div class="time">\n          <div class="header">\n            <input type="text" readonly="readonly" class="label"/>\n          </div>\n          <div class="body1">\n            <div class="line">\n              <div class="row1">H</div>\n              <div class="row2">‹</div>\n              <div class="row3"></div>\n              <div class="row4">›</div>\n            </div>  \n            <div class="line">\n              <div class="row5">:</div>\n            </div>    \n            <div class="line">\n              <div class="row1">M</div>\n              <div class="row2">‹</div>\n              <div class="row3"></div>\n              <div class="row4">›</div>\n            </div>    \n            <div class="line">\n              <div class="row5">:</div>\n            </div>  \n            <div class="line">\n              <div class="row1">S</div>\n              <div class="row2">‹</div>\n              <div class="row3"></div>\n              <div class="row4">›</div>\n            </div>            \n          </div>\n        </div>\n      ');if(e.appendChild(t),!this.options.hour24){console.log();const e=this.findChild("container","time","header");e.classList.add("ampm-mode");const t=this.elementFromHtml('<select class="ampm"><option value="AM">AM</option><option value="PM">PM</option></select>');e.appendChild(t),t.value=this.options.hour12Initial}if(this.options.showHours&&this.options.showMinutes&&this.options.showSeconds){const e=this.findChild("container","time","body1","line",0,"row2"),t=this.findChild("container","time","body1","line",0,"row3"),i=this.findChild("container","time","body1","line",0,"row4"),n=this.findChild("container","time","body1","line",2,"row2"),o=this.findChild("container","time","body1","line",2,"row3"),s=this.findChild("container","time","body1","line",2,"row4"),r=this.findChild("container","time","body1","line",4,"row2"),d=this.findChild("container","time","body1","line",4,"row3"),h=this.findChild("container","time","body1","line",4,"row4");this.addEvent("eventTimeHourButton",e,"click"),this.addEvent("eventTimeHourCenterClick",t,"click"),this.addEvent("eventTimeHourButton",i,"click"),this.addEvent("eventTimeMinuteButton",n,"click"),this.addEvent("eventTimeMinuteCenterClick",o,"click"),this.addEvent("eventTimeMinuteButton",s,"click"),this.addEvent("eventTimeSecondButton",r,"click"),this.addEvent("eventTimeSecondCenterClick",d,"click"),this.addEvent("eventTimeSecondButton",h,"click")}else if(this.options.showHours&&this.options.showMinutes&&!this.options.showSeconds){const e=this.findChild("container","time","body1","line",0,"row2"),t=this.findChild("container","time","body1","line",0,"row3"),i=this.findChild("container","time","body1","line",0,"row4"),n=this.findChild("container","time","body1","line",2,"row2"),o=this.findChild("container","time","body1","line",2,"row3"),s=this.findChild("container","time","body1","line",2,"row4");this.addEvent("eventTimeHourButton",e,"click"),this.addEvent("eventTimeHourCenterClick",t,"click"),this.addEvent("eventTimeHourButton",i,"click"),this.addEvent("eventTimeMinuteButton",n,"click"),this.addEvent("eventTimeMinuteCenterClick",o,"click"),this.addEvent("eventTimeMinuteButton",s,"click"),this.findChild("container","time","body1","line",3).remove(),this.findChild("container","time","body1","line",3).remove()}else if(!this.options.showHours&&this.options.showMinutes&&this.options.showSeconds){const e=this.findChild("container","time","body1","line",2,"row2"),t=this.findChild("container","time","body1","line",2,"row3"),i=this.findChild("container","time","body1","line",2,"row4"),n=this.findChild("container","time","body1","line",4,"row2"),o=this.findChild("container","time","body1","line",4,"row3"),s=this.findChild("container","time","body1","line",4,"row4");this.addEvent("eventTimeMinuteButton",e,"click"),this.addEvent("eventTimeMinuteCenterClick",t,"click"),this.addEvent("eventTimeMinuteButton",i,"click"),this.addEvent("eventTimeSecondButton",n,"click"),this.addEvent("eventTimeSecondButton",s,"click"),this.findChild("container","time","body1","line",0).remove(),this.addEvent("eventTimeSecondCenterClick",o,"click"),this.findChild("container","time","body1","line",0).remove()}else if(this.options.showHours){const e=this.findChild("container","time","body1","line",0,"row2"),t=this.findChild("container","time","body1","line",0,"row3"),i=this.findChild("container","time","body1","line",0,"row4");this.addEvent("eventTimeHourButton",e,"click"),this.addEvent("eventTimeHourCenterClick",t,"click"),this.addEvent("eventTimeHourButton",i,"click"),this.findChild("container","time","body1","line",1).remove(),this.findChild("container","time","body1","line",1).remove(),this.findChild("container","time","body1","line",1).remove(),this.findChild("container","time","body1","line",1).remove()}else if(this.options.showMinutes){const e=this.findChild("container","time","body1","line",2,"row2"),t=this.findChild("container","time","body1","line",2,"row3"),i=this.findChild("container","time","body1","line",2,"row4");this.addEvent("eventTimeMinuteButton",e,"click"),this.addEvent("eventTimeMinuteCenterClick",t,"click"),this.addEvent("eventTimeMinuteButton",i,"click"),this.findChild("container","time","body1","line",0).remove(),this.findChild("container","time","body1","line",0).remove(),this.findChild("container","time","body1","line",1).remove(),this.findChild("container","time","body1","line",1).remove()}else{const e=this.findChild("container","time","body1","line",4,"row2"),t=this.findChild("container","time","body1","line",4,"row3"),i=this.findChild("container","time","body1","line",4,"row4");this.addEvent("eventTimeSecondButton",e,"click"),this.addEvent("eventTimeSecondCenterClick",t,"click"),this.addEvent("eventTimeSecondButton",i,"click"),this.findChild("container","time","body1","line",0).remove(),this.findChild("container","time","body1","line",0).remove(),this.findChild("container","time","body1","line",0).remove(),this.findChild("container","time","body1","line",0).remove()}this.updateTimePicker()}openTimeMenuPicker(e){const t=this.findChild("container","time"),i=this.findChild("container","time","body1");let n="H"!==e?"bodyMS":this.options.hour24?"bodyH24":"bodyH12",o="H"!==e?Array.from({length:12},((e,t)=>(5*t).toString().padStart(2,"0"))):this.options.hour24?Array.from({length:24},((e,t)=>t.toString().padStart(2,"0"))):Array.from({length:12},((e,t)=>t.toString().padStart(2,"0")));const s=this.elementFromHtml(`<div class='body2 ${n}'></div>`);for(let t=0;t<o.length;t++){const i=this.elementFromHtml(`<div data-type="${e}">${o[t]}</div>`);this.addEvent("eventTimeCenterOptionClick",i,"click"),s.appendChild(i)}i.style.display="none",t.appendChild(s)}openMenuPicker(e){if(!this.options.menu.show)return;const t=this.elementFromHtml(`<div class="menu theme${this.options.theme}${"timepicker"===this.options.type?" menu-center":""}"><div class="b1"></div><div class="b2"></div>`);this.shadow.append(t);const i=this.findChild("menu","b1");i.textContent=this.options.menu.now,this.addEvent("eventMenuNowClick",i,"click");const n=this.findChild("menu","b2");n.textContent=this.options.menu.done,this.addEvent("eventMenuDoneClick",n,"click")}updateDatePicker(){if("timepicker"===this.options.type)return;const e=this.findChild("container","date","header","month");for(let t=0;t<e.children.length;t++){const i=e.children[t];i.disabled=!1,this.options.startDate.getFullYear()===this.options.runningDate.getFullYear()&&t<this.options.startDate.getMonth()&&(i.disabled=!0),this.options.endDate.getFullYear()===this.options.runningDate.getFullYear()&&t>this.options.endDate.getMonth()&&(i.disabled=!0)}e.value=this.options.runningDate.getMonth(),this.findChild("container","date","header","year").value=this.options.runningDate.getFullYear();const t=this.findChild("container","date","body");for(this.removeEvents("eventDayClick"),this.removeEvents("eventDatePickerMouseEnter"),this.removeEvents("eventDatePickerMouseLeave");t.firstChild;)t.firstChild.remove();let i=this.getFirstDayOfMonth(this.options.runningDate);this.options.startMonday&&0==i?i=6:this.options.startMonday&&(i-=1);let n=0;if(0!=i){const e=this.cloneDate(this.options.runningDate);e.setMonth(e.getMonth()-1);const o=this.getDaysInMonth(e);for(let e=i-1;e>=0;e--)n++,this.options.showOtherDays?t.appendChild(this.elementFromHtml(`<div class="day blur">${o-e}</div>`)):t.appendChild(this.elementFromHtml("<div></div>"))}const o=this.getDaysInMonth(this.options.runningDate),s=this.cloneDate(this.options.runningDate,"NO-TIME");for(let e=0;e<o;e++){if(s.setDate(e+1),!this.options.enableWeekend&&this.isWeekend(s)){const i=this.elementFromHtml(`<div class="day blur">${e+1}</div>`);t.appendChild(i);continue}const i=this.elementFromHtml(`<div class="day">${e+1}</div>`);this.options.runningDate.getFullYear()===this.options.selectedDate.getFullYear()&&this.options.runningDate.getMonth()===this.options.selectedDate.getMonth()&&this.options.selectedDate.getDate()===e+1&&i.classList.add("selected");const n=this.getPickerEvent(e+1);-1!==n&&(i.classList.add("event-tip"),i.setAttribute("data-event",n),this.addEvent("eventDatePickerMouseEnter",i,"mouseenter"),this.addEvent("eventDatePickerMouseLeave",i,"mouseleave")),this.addEvent("eventDayClick",i,"click"),t.appendChild(i)}if(this.options.showOtherDays){const e=(7-(o+n)%7)%7;for(let i=0;i<e;i++)t.appendChild(this.elementFromHtml(`<div class="day blur">${i+1}</div>`))}}getPickerEvent(e){let t=-1;for(let i=0;i<this.options.events.length;i++){const n=this.options.events[i];if(n.date.getFullYear()===this.options.runningDate.getFullYear()&&(n.date.getMonth()===this.options.runningDate.getMonth()&&n.date.getDate()===e)){t=i;break}}return t}updateTimePicker(){if("datepicker"===this.options.type)return;const e=this.findChild("container","time","header","label");if(this.options.showHours&&this.options.showMinutes&&this.options.showSeconds){let t=this.options.hour24?this.options.runningDate.getHours().toString().padStart(2,"0"):(this.options.runningDate.getHours()%12||12).toString().padStart(2,"0"),i=this.options.runningDate.getMinutes().toString().padStart(2,"0"),n=this.options.runningDate.getSeconds().toString().padStart(2,"0");e.value=`${t}:${i}:${n}`,this.findChild("container","time","body1","line",0,"row3").textContent=t,this.findChild("container","time","body1","line",2,"row3").textContent=i,this.findChild("container","time","body1","line",4,"row3").textContent=n}else if(this.options.showHours&&this.options.showMinutes&&!this.options.showSeconds){let t=this.options.hour24?this.options.runningDate.getHours().toString().padStart(2,"0"):(this.options.runningDate.getHours()%12||12).toString().padStart(2,"0"),i=this.options.runningDate.getMinutes().toString().padStart(2,"0");e.value=`${t}:${i}`,this.findChild("container","time","body1","line",0,"row3").textContent=t,this.findChild("container","time","body1","line",2,"row3").textContent=i}else if(!this.options.showHours&&this.options.showMinutes&&this.options.showSeconds){let t=this.options.runningDate.getMinutes().toString().padStart(2,"0"),i=this.options.runningDate.getSeconds().toString().padStart(2,"0");e.value=`${t}:${i}`,this.findChild("container","time","body1","line",0,"row3").textContent=t,this.findChild("container","time","body1","line",2,"row3").textContent=i}else if(this.options.showHours){let t=this.options.hour24?this.options.runningDate.getHours().toString().padStart(2,"0"):(this.options.runningDate.getHours()%12||12).toString().padStart(2,"0");e.value=`${t}`,this.findChild("container","time","body1","line","row3").textContent=t}else if(this.options.showMinutes){let t=this.options.runningDate.getMinutes().toString().padStart(2,"0");e.value=`${t}`,this.findChild("container","time","body1","line","row3").textContent=t}else{let t=this.options.runningDate.getSeconds().toString().padStart(2,"0");e.value=`${t}`,this.findChild("container","time","body1","line","row3").textContent=t}}destroy(e=!1){this.system=e,this.remove()}elementFromHtml(t){const i=e.document.createElement("template");return i.innerHTML=t.trim(),i.content.firstElementChild}findChild(...e){let t=this.shadow;for(const i of e){if(!t)break;"number"==typeof i?t=t[i]:(t=Array.from(t.children).filter((e=>e.classList.contains(i))),0===t.length?t=void 0:1===t.length&&(t=t[0]))}return t}isWeekend(e){return 0===e.getDay()||6===e.getDay()}getDaysInMonth(e){const t=this.cloneDate(e),i=t.getMonth(),n=t.getFullYear();return new Date(n,i+1,0).getDate()}getFirstDayOfMonth(e){const t=this.cloneDate(e),i=t.getMonth(),n=t.getFullYear();return new Date(n,i,1).getDay()}cloneDate(e,t=""){if("NO-TIME"===t){const t=new Date(e.getTime());return t.setHours(0,0,0,0),t}if("NO-DATE"===t){let t=new Date(e.getTime());const i=t.getTime()%864e5;return t=new Date(0),t.setTime(i),t}return new Date(e.getTime())}styles(){const e=document.createElement("style");return e.textContent=":host{position:absolute;box-sizing:border-box;width:auto;height:auto;border:1px solid #d3d3d3;padding:3px;font-family:Arial;user-select:none;background-color:#fff;border-radius:3px}.container{display:flex;gap:5px}.container .date{position:relative;flex:1;box-sizing:border-box;min-width:300px;height:auto}.container .date .header{position:relative;box-sizing:border-box;width:100%;height:35px;border:1px solid #d3d3d3;border-radius:3px;display:flex;align-items:center;justify-content:center;background-color:#f5f5f5}.container .date .body,.container .date .sub-header{position:relative;box-sizing:border-box;display:grid;grid-template-columns:repeat(7,1fr);grid-template-rows:repeat(1,1fr);width:100%;grid-gap:3px}.container .date .header .month,.container .date .header .year,.container .time .header .ampm{position:relative;box-sizing:border-box;padding:0;cursor:pointer;border:1px solid #d3d3d3;outline:0;font-size:12pt;line-height:normal;height:76%;background-color:#fff;border-radius:3px}.container .date .header .month{width:105px;margin-right:5px}.container .date .header .year{width:70px}input:focus,select:focus{outline:0}.container .date .header .button-l,.container .date .header .button-r{position:relative;box-sizing:border-box;border:1px solid #d3d3d3;border-radius:3px;cursor:pointer;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:16pt;width:40px;height:90%}.container .date .header .button-l{margin-left:20px}.container .date .header .button-r{margin-left:5px}.container .date .sub-header{height:30px}.container .date .sub-header div{position:relative;box-sizing:border-box;display:flex;align-items:center;justify-content:center;font-weight:700}.container .date .body .day,.container .time .body2 div{align-items:center;cursor:pointer;background-color:#f5f5f5;padding-top:2px;user-select:none}.container .date .body{height:auto}.container .date .body .day,.container .time .body1,.container .time .body1 .line .row1,.container .time .body2,.container .time .body2 div,.container .time .header{position:relative;display:flex;box-sizing:border-box}.container .date .body .day{height:25px;justify-content:center;border:1px solid #d3d3d3}.container .date .body .day.blur{cursor:default;color:#d3d3d3!important;pointer-events:none}.container .time{position:relative;flex:1;box-sizing:border-box;width:180px}.container .time .header{justify-content:center;align-items:center;width:100%;height:35px;border:1px solid #d3d3d3;border-radius:3px;align-items:center;justify-content:center;background-color:#f5f5f5}.container .time .header .label{position:relative;box-sizing:border-box;text-align:center;background-color:#fff;border-radius:3px;height:72%;padding-left:15px;padding-right:15px;border:1px solid #d3d3d3;width:60%;user-select:none;pointer-events:none;font-size:11pt}.container .time .header.ampm-mode .ampm{height:72%;border-top-left-radius:0;border-bottom-left-radius:0;border-left:none;font-size:11pt}.container .time .header.ampm-mode .label{width:45%;padding-left:5px;padding-right:5px;border-top-right-radius:0;border-bottom-right-radius:0;border-right:none}.container .time .body1,.container .time .body2{justify-content:center;align-items:center;width:100%;min-height:167px}.container .time .body2{align-items:unset;display:grid;grid-gap:3px;border:none;padding-top:5px}.container .time .body2 div{justify-content:center;border:1px solid #d3d3d3}.container .time .body2.bodyMS{grid-template-columns:repeat(4,1fr);grid-template-rows:repeat(3,1fr)}.container .time .body2.bodyH24{grid-template-columns:repeat(4,1fr);grid-template-rows:repeat(6,1fr)}.container .time .body2.bodyH12{grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(5,24%)}.container .time .body1 .line{position:relative;box-sizing:border-box;width:auto;min-height:167px;box-sizing:border-box}.container .time .body1 .line .row1{align-items:center;justify-content:center;font-weight:700;cursor:default;color:#d3d3d3;margin-top:7px}.container .time .body1 .line .row2,.container .time .body1 .line .row4{position:relative;display:flex;align-items:center;justify-content:center;box-sizing:border-box;margin-top:13px;width:37px;height:37px;font-weight:700;font-size:19pt;border-radius:3px;overflow:hidden;background-color:#f5f5f5;border:1px solid #d3d3d3;cursor:pointer;transform:rotate(90deg);padding-bottom:5px}.container .time .body1 .line .row3,.container .time .body1 .line .row5{align-items:center;font-size:15pt;position:relative;box-sizing:border-box;display:flex;cursor:pointer;font-weight:700}.container .time .body1 .line .row3{height:33.33%;width:100%;justify-content:center;margin-top:13px}.container .time .body1 .line .row5{justify-content:center;width:10px;margin-top:85px}.container .time .body1 .line .row4{padding-left:2px}.container .time .body1 .line:nth-child(2) .row5,.container .time .body1 .line:nth-child(4) .row5{padding-top:2px}.container .date .body .day:hover,.container .time .body1 .line:first-child .row2:hover,.container .time .body1 .line:first-child .row4:hover,.container .time .body1 .line:nth-child(3) .row2:hover,.container .time .body1 .line:nth-child(3) .row4:hover,.container .time .body1 .line:nth-child(5) .row2:hover,.container .time .body1 .line:nth-child(5) .row4:hover,.menu .b1:hover,.menu .b2:hover,.time .body2 div:hover{background-color:#ededed}.container .date .body .day.selected{background-color:#fffa90;border:1px solid #dad55e}.menu{box-sizing:border-box;display:none;position:relative;box-sizing:border-box;width:100%;height:35px;border:1px solid #d3d3d3;border-radius:3px;margin-top:5px;display:flex;align-items:center;justify-content:end;padding-right:10px;gap:10px}.menu.menu-center{justify-content:center}.menu .b1,.menu .b2{position:relative;box-sizing:border-box;height:82%;display:flex;align-items:center;justify-content:center;font-size:12pt;border-radius:3px;overflow:hidden;background-color:#f5f5f5;border:1px solid #d3d3d3;cursor:pointer;padding-top:2px;padding-left:10px;padding-right:10px}.tooltip{position:fixed;border:1px solid #d3d3d3;border-radius:3px;max-width:300px;max-height:60px;background-color:#f5f5f5;padding:5px 5px 7px;font-family:Arial;font-size:11pt;font-weight:500;cursor:default;user-select:none;z-index:2;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.container .date .body .day.event-tip::after{content:'';position:absolute;left:2px;bottom:2px;width:0;height:0;border-top:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid red;clear:both}.theme2 .date .header .month,.theme2 .date .header .year,.theme2 .time .header .ampm,.theme2 .time .header .label,.theme3 .date .header .month,.theme3 .date .header .year,.theme3 .time .header .ampm,.theme3 .time .header .label{border:1px solid #f5f5f5;background-color:#fff}.theme2 .date .header,.theme2 .time .header{background-color:#c00}.theme2 .date .header .button-l,.theme2 .date .header .button-r{color:#fff;border:none;background-color:#c00}.theme2 .date .header .button-l:hover,.theme2 .date .header .button-r:hover{background-color:#f5f5f5;color:#c00}.menu.theme2 div,.theme2 .date .body .day,.theme2 .time .body1 .line:first-child .row2,.theme2 .time .body1 .line:first-child .row3,.theme2 .time .body1 .line:first-child .row4,.theme2 .time .body1 .line:nth-child(2) .row5,.theme2 .time .body1 .line:nth-child(3) .row2,.theme2 .time .body1 .line:nth-child(3) .row3,.theme2 .time .body1 .line:nth-child(3) .row4,.theme2 .time .body1 .line:nth-child(4) .row5,.theme2 .time .body1 .line:nth-child(5) .row2,.theme2 .time .body1 .line:nth-child(5) .row3,.theme2 .time .body1 .line:nth-child(5) .row4,.theme2 .time .body2 div{color:#004276;font-weight:700}.theme2 .date .body .day.selected{color:#c00}.theme2 .time .header.ampm-mode .ampm{border:none}.theme3 .date .header,.theme3 .time .header{background-color:#1abc9c}.theme3 .date .header .button-l,.theme3 .date .header .button-r{color:#fff;border:none;background-color:#1abc9c}.theme3 .date .header .button-l:hover,.theme3 .date .header .button-r:hover{background-color:#f5f5f5;color:#1abc9c}.menu.theme3 div,.theme3 .date .body .day,.theme3 .time .body1 .line:first-child .row2,.theme3 .time .body1 .line:first-child .row3,.theme3 .time .body1 .line:first-child .row4,.theme3 .time .body1 .line:nth-child(2) .row5,.theme3 .time .body1 .line:nth-child(3) .row2,.theme3 .time .body1 .line:nth-child(3) .row3,.theme3 .time .body1 .line:nth-child(3) .row4,.theme3 .time .body1 .line:nth-child(4) .row5,.theme3 .time .body1 .line:nth-child(5) .row2,.theme3 .time .body1 .line:nth-child(5) .row3,.theme3 .time .body1 .line:nth-child(5) .row4,.theme3 .time .body2 div{color:#1abc9c;font-weight:700}.theme3 .date .body .day.selected,.theme4 .date .body .day.selected{color:#000}.theme4{background-color:#f8f1ff}.theme4 .date .header .month,.theme4 .date .header .year,.theme4 .time .header .ampm,.theme4 .time .header .label{border:1px solid #f8f1ff;background-color:#f8f1ff}.theme4 .date .header,.theme4 .time .header{background-color:#c084fc}.theme4 .date .header .button-l,.theme4 .date .header .button-r{color:#f8f1ff;border:none;background-color:#c084fc}.theme4 .date .header .button-l:hover,.theme4 .date .header .button-r:hover{background-color:#f8f1ff;color:#c084fc}.menu.theme4 div,.theme4 .date .body .day,.theme4 .time .body1 .line:first-child .row2,.theme4 .time .body1 .line:first-child .row3,.theme4 .time .body1 .line:first-child .row4,.theme4 .time .body1 .line:nth-child(2) .row5,.theme4 .time .body1 .line:nth-child(3) .row2,.theme4 .time .body1 .line:nth-child(3) .row3,.theme4 .time .body1 .line:nth-child(3) .row4,.theme4 .time .body1 .line:nth-child(4) .row5,.theme4 .time .body1 .line:nth-child(5) .row2,.theme4 .time .body1 .line:nth-child(5) .row3,.theme4 .time .body1 .line:nth-child(5) .row4,.theme4 .time .body2 div{color:#c084fc;font-weight:700}.theme4 .date .sub-header div{color:theme4}.menu.theme5 div,.theme5 .date .body .day,.theme5 .date .header,.theme5 .time .body1 .line:first-child .row2,.theme5 .time .body1 .line:first-child .row4,.theme5 .time .body1 .line:nth-child(3) .row2,.theme5 .time .body1 .line:nth-child(3) .row4,.theme5 .time .body1 .line:nth-child(5) .row2,.theme5 .time .body1 .line:nth-child(5) .row4,.theme5 .time .body2 div,.theme5 .time .header{background-color:#d3d3d3}.theme5 .date .header .month,.theme5 .date .header .year,.theme5 .time .header .ampm,.theme5 .time .header .label{border:1px solid #c8c8c8}.theme5 .date .header .button-l:hover,.theme5 .date .header .button-r:hover{background-color:#fff}",e}}customElements.define("TimeCraftJs-Picker".toLowerCase(),o);class s{constructor(e,t,i){this.element=e,this.options=t,this.userEvents=i,this.eventClick=this.click.bind(this),this.element.addEventListener("click",this.eventClick)}destroy(){this.element.removeEventListener("click",this.eventClick)}click(e){if(e.stopPropagation(),e.preventDefault(),this.element.focus(),null==t)return this.options=this.readDate(this.options),void(t=new o(this));t.selector!==this.element&&(t.destroy(),this.options=this.readDate(this.options),t=new o(this))}readDate(e){let t=e.format,i="";i="INPUT"===this.element.tagName.toUpperCase()||"TEXTAREA"===this.element.tagName.toUpperCase()?this.element.value.trim():this.element.textContent.trim();let n=new Date;if(e.isEmpty(i)){n=new Date;const t=e.cloneDate(e.startDate,"NO-TIME"),i=e.cloneDate(e.endDate,"NO-TIME");if(n.getTime()<t.getTime()||n.getTime()>i.getTime()){n=t;let e=new Date;n.setHours(e.getHours(),e.getMinutes(),e.getSeconds())}return e.selectedDate=n,e.runningDate=new Date(e.selectedDate.getTime()),e.hour12Initial=e.selectedDate.getHours()>=12?"PM":"AM",e}let o=-1,s=-1,r=-1,d=0,h=0,a=0;try{const l=()=>{let t=[...e.language.longMonths,...e.language.shortMonths];for(let e=0;e<t.length;e++){let n=t[e];if(i.toLowerCase().includes(n.toLowerCase()))return e%12+1}return-1};let c=t.match(/(?:MMMM|MMM|MM|M|dd|d|yyyy|yy|HH|mm|ss)/g),m=i.split(/[-/.\s:]+/);c.forEach(((e,t)=>{let i=m[t];"dd"===e||"d"===e?o=parseInt(i,10):"MM"===e||"M"===e?s=parseInt(i,10):"yyyy"===e?r=parseInt(i,10):"yy"===e?r=parseInt(i,10)+(parseInt(i,10)<50?2e3:1900):"MMMM"===e||"MMM"===e?s=l():"HH"===e?d=parseInt(i,10):"mm"===e?h=parseInt(i,10):"ss"===e&&(a=parseInt(i,10))})),s>0&&s--,n=new Date(r,s,o,d,h,a)}catch(e){n=new Date}e.isDate(n)?i.includes(" AM")?e.hour12Initial="AM":i.includes(" PM")&&(e.hour12Initial="PM"):(n=new Date,e.hour12Initial=n.getHours()>=12?"PM":"AM");const l=e.cloneDate(e.startDate,"NO-TIME"),c=e.cloneDate(e.endDate,"NO-TIME");if(n.getTime()<l.getTime()||n.getTime()>c.getTime()){n=l;let e=new Date;n.setHours(e.getHours(),e.getMinutes(),e.getSeconds())}return e.selectedDate=n,e.runningDate=new Date(e.selectedDate.getTime()),e}setDate(e){let i=e.format,n=e.selectedDate;const o=(e,t=2)=>e.toString().padStart(t,"0"),s={dd:o(n.getDate()),d:n.getDate().toString(),MMMM:e.language.longMonths[n.getMonth()],MMM:e.language.shortMonths[n.getMonth()],MM:o(n.getMonth()+1),M:(n.getMonth()+1).toString(),yyyy:n.getFullYear().toString(),yyy:n.getFullYear().toString(),yy:n.getFullYear().toString(),y:n.getFullYear().toString(),HH:o(e.hour24?n.getHours():n.getHours()%12||12),H:e.hour24?n.getHours().toString():(n.getHours()%12||12).toString(),mm:o(n.getMinutes()),m:n.getMinutes().toString(),ss:o(n.getSeconds()),s:n.getSeconds().toString()};for(let e in s)i=i.replace(new RegExp(`\\b${e}\\b`,"g"),s[e]);""!==e.hour12Initial&&(i=`${i} ${e.hour12Initial}`),"INPUT"===this.element.tagName.toUpperCase()||"TEXTAREA"===this.element.tagName.toUpperCase()?this.element.value=i:this.element.textContent=i,t.destroy(),t=null,e.onSelected?.(this.element)}}const r=new class{constructor(e){this.dataChanged=e.dataChanged.bind(e),this.selectorList=[]}update(e,t){const i=this.getSelectores(e);return{datepicker:()=>{t=new n(t,"datepicker"),this.updateHelper(i,t)},datetimepicker:()=>{t=new n(t,"datetimepicker"),this.updateHelper(i,t)},timepicker:()=>{t=new n(t,"timepicker"),this.updateHelper(i,t)}}}updateHelper(e,i){for(let n=0;n<e.length;n++){const o=e[n],s=this.existsSelector(o);-1!==s?null!==t&&t.selector===o?(this.selectorList[s].events.options=i,this.open(o)):this.selectorList[s].events.options=i:this.addSelector(o,i)}}datepicker(e,t){const i=this.getSelectores(e);this.handleSelectors(i,new n(t,"datepicker"))}timepicker(e,t){const i=this.getSelectores(e);this.handleSelectors(i,new n(t,"timepicker"))}datetimepicker(e,t){const i=this.getSelectores(e);this.handleSelectors(i,new n(t,"datetimepicker"))}destroy(e){const t=this.getSelectores(e);for(let e=0;e<t.length;e++){const i=t[e];this.removeSelector(i)}}open(e){const i=this.getSelectores(e);null!==t&&(t.destroy(),t=null);const n=this.existsSelector(i[0]);-1!==n&&this.selectorList[n].selector.click()}handleSelectors(e,t){for(let i=0;i<e.length;i++){const n=e[i];-1!==this.existsSelector(n)&&this.removeSelector(n),this.addSelector(n,t)}}addSelector(e,t){this.selectorList.push({selector:e,events:new s(e,t,this)}),this.dataChanged(this.selectorList)}removeSelector(e){const i=this.existsSelector(e);-1!==i&&(this.selectorList[i].events.destroy(),this.selectorList[i].events=null,this.selectorList[i].selector=null,this.selectorList.splice(i,1),null!==t&&t.selector===e&&(t.destroy(!0),t=null),this.dataChanged(this.selectorList))}existsSelector(e){return this.selectorList.findIndex((t=>t.selector===e))}getSelectores(e){try{if("string"==typeof e)return[...document.querySelectorAll(e)];if(e instanceof Element)return[e];if(e instanceof NodeList||Array.isArray(e))return[...e]}catch(e){return[]}}}(i);e.TimeCraftJs={datepicker:r.datepicker.bind(r),timepicker:r.timepicker.bind(r),datetimepicker:r.datetimepicker.bind(r),update:r.update.bind(r),destroy:r.destroy.bind(r),open:r.open.bind(r)}}(window);